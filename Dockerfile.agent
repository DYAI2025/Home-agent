# Use an official Python runtime as a parent image\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE 1\nENV PYTHONUNBUFFERED 1\n\n# Set work directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n        build-essential \\\n        ffmpeg \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Copy project files\nCOPY . .\n\n# Install Python dependencies\nRUN pip install --no-cache-dir --upgrade pip\nRUN pip install --no-cache-dir -r voice_ai_agent/requirements.txt\n\n# Create a non-root user\nRUN adduser --disabled-password --gecos '' appuser\nRUN chown -R appuser:appuser /app\nUSER appuser\n\n# Start the Python agent\nCMD [\"bash\", \"-c\", \"cd agents && uv run python ../voice_ai_agent/main.py start\"]\n